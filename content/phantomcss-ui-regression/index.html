<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Hedley Generator - PhantomCSS and UI regression</title>
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/css/main.b74f.css"/>

        <link href='http://fonts.googleapis.com/css?family=Abril+Fatface' rel='stylesheet' type='text/css'>

        <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6558346-3', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


    </head>
    <body>

    

    <header class="white">
      <div class="container">
        <div class="logo"><a href="/">gizra</a></div>
        <nav id="nav" role="navigation" class="navbar navbar-default nav-fixed">
          <div class="navbar-header">
            <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="/products">Products</a></li>
              <li><a href="/#about">About</a></li>
              <li><a href="/#work">Work</a></li>
              <li><a href="/#code">Showcase</a></li>
              <li><a href="/blog" class="active">Blog</a></li>
              <li><a href="/#contact">Contact</a></li>
            </ul>
          </div>
        </nav>
      </div> <!-- End of container -->
    </header>

    


    
  



  
    
      
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  


<section id="post-page">
  <div class="background">
    <img src="/images/post/background.71f5.png">
  </div>

  <div class="ballons"></div>
  <div class="post-back">
    <a href="/blog">
      <img src="/images/post/post-back.fca6.png">
    </a>
  </div>

  <div class="content">
    <div class="container">
      <div class="row">

        <div class="col-md-8 col-md-offset-2 post">
          <div class="row">
            <div class="post-label">
              <a href="/content/phantomcss-ui-regression">Hedley Generator - PhantomCSS and UI regression</a>
            </div>
          </div>

          <div class="row small-row">
            <div class="date">04 Jan 2015</div>
            <div class="seprator">|</div>
            <div class="author">By Amitai Burstein</div>
          </div>

          <div class="row small-row">
            <div class="tags">

              
              <ul class="inline">
                
                

  
    
      <li><a href="/tags.html#Hedley generator-ref">Hedley generator</a></li>
    
      <li><a href="/tags.html#The Gizra Way-ref">The Gizra Way</a></li>
    
      <li><a href="/tags.html#Drupal-planet-ref">Drupal-planet</a></li>
    
  


              </ul>
              
            </div>

            <div class="comments-count"><a href="http://www.gizra.com/content/phantomcss-ui-regression#disqus_thread"></a></div>
          </div>

          <div class="row">
            <div class="post-content">
              <p>What&#39;s fun about having a tool like <a href="/content/yo-hedley/">Hedley</a> is that every new best practice we acquire can be easily added to our ever evolving, versioned, and codified knowledge base - and it&#39;s there for the community to use and improve.</p>

<p>So, as if it didn&#39;t have enough of best practices bundled in it already, we&#39;ve taken another step to get <a href="https://github.com/Huddle/PhantomCSS">PhantomCSS</a> a &quot;CSS regression testing&quot; tool in.</p>

<div class="thumbnail">
  <img src="http://www.gizra.com/assets/images/posts/phantomcss/image1.jpg" />
  <div class="caption">PhantomCSS in action</div>
</div>

<!-- more -->

<p>PhantomCSS is a great tool for you to make sure there&#39;s no regression in your UI. Considering how easy it is to break your own UI between releases, and how much manual effort it requires to QA your site before each release, a proper automatic solution is much needed. Like any other automatic testing tool it requires some maintenance, but it is probably less effort than fixing the site plus having to explain to the client why something that already looked good is suddenly broken.</p>

<p>Not only will the single command <code>yo hedley</code> automatically setup PhantomCSS for you, it will also give you a working <code>.travis.yml</code> file, so upon scaffolding your project, it will be immediately tested.</p>

<p>One of the difficulties working with Travis or other CI tools is that you don&#39;t have access to the box itself. While phantomCSS is kind enough to notify you that there was a regression and even create screenshots for you to see the difference - you have no access to those files.  </p>

<p>We solve this by using a nifty <a href="https://github.com/Gizra/generator-hedley/blob/3540852d195ebbf34216e0434379e7709970c9a3/.travis.yml#L76-L82">bash script</a> that uploads the screenshots to <a href="http://imgur.com">imgur</a> - letting us understand how Travis &quot;sees&quot; the app can reduce debugging time considerably.</p>

<div class="thumbnail">
  <img src="http://www.gizra.com/assets/images/posts/phantomcss/image2.jpg" />
  <div class="caption">A regression was detected, and the failed output was uploaded to imgur</div>
</div>

<h3>Best practices tips</h3>

<ol>
<li>Follow the best practices <a href="https://github.com/Huddle/PhantomCSS#best-practices">section</a> in PhantomCSS. Pay attention to the recommendation not to try and test entire pages but rather smaller elements. It&#39;s faster and less error prone.</li>
<li>Travis is running on an Ubuntu instance, so make sure to run the first tests that produce the images you&#39;re are going to compare to on an Ubuntu machine, as every OS might slightly render differently the fonts. If you don&#39;t have an Ubuntu installed, since we have the <code>imgur</code> bash script, you can use Travis itself to create those screenshots.</li>
<li>Don&#39;t try to overdo with the UI tests. With a few simple tests that validate for example the header, footer and elements in the main content of different pages you will already cover a lot - probably more than you had when you didn&#39;t have any tests... If you have some &quot;extra&quot; testing time you may wish to invest it in <a href="/content/behat-vs-casper-for-drupal/">Behat</a> testing.</li>
</ol>

            </div>
          </div>

          <div class="row">
            <div class="bottom-dash"></div>
          </div>

          <div class="row post-nav">
            <div class="first">
              
              <div class="previous">
                <a href="/content/yo-hedley">
                  Previous
                </a>
              </div>
              <a href="/content/yo-hedley" class="prev-text">
                Yo Hedley!
              </a>
              
            </div>
            <div class="last">
              
            </div>
          </div>

          <div class="row author-details">
            <div class="image-wrapper">
              <img src="/images/team/amitaibu.4179.jpg" class="img-responsive">
            </div>
            <div class="text-wrapper">
              <span class="name">Amitai Burstein</span> <span class="twitter">(@amitaibu)</span>
              <div class="title">CTO, Co-Owner</div>
              <div class="bio">Maintainer of Organic groups, the Message stack, and co-maintainer of Drupal 8's Entity reference. <a href="/content/the-about-story/">The about story</a>.</div>
            </div>
          </div>

          <div class="row">
            <div class="bottom-dash-small"></div>
          </div>

          <div class="row">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'gizra';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

          </div>

        </div>
      </div>
    </div>
  </div>
</section>

<script type="text/javascript">
var disqus_shortname = 'gizra';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>




    <script src="/js/plugins.5250.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>

    <script src="/js/scripts.87fd.js"></script>

    </body>
</html>
